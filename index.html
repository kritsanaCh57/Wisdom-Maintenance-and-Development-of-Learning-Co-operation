<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>การถ่ายทอดภูมิปัญญาผู้สูงอายุสู่เยาวชน ผู้สูงวัยสอนหลาน</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/1-col-portfolio.css" rel="stylesheet">
    <link href="css/global.css" rel="stylesheet">
    <style>
      .album{
        background-color: #efefef; 
        padding-right: 0px !important;
        padding-left: 0px !important;
      }
    
      .img-album{
        display:inline-block;
        height:100px;
        overflow:hidden;
      }
    </style>
  </head>

  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">การถ่ายทอดภูมิปัญญาผู้สูงอายุสู่เยาวชน "ผู้สูงวัยสอนหลาน"</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">หน้าแรก
              <span class="sr-only">(current)</span>
            </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="detail.html">รายละเอียดโครงงาน</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="activity/index.html">กิจกรรมทั้งหมด</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <div class="container">

      <!-- Page Heading -->
      <h1 class="my-4">
        หน้าแรก
        <small></small>
      </h1>

      <!-- Project One -->
      <div class="row">
        <div class="col-md-7">
          <a href="#">
            <!-- <img class="img-fluid rounded mb-3 mb-md-0" src="http://placehold.it/500x300" alt=""> -->
            <img class="img-fluid rounded mb-3 mb-md-0" src="../assets/images/การทำข้าวต้มมัด/9.JPG" alt="">
          </a>
        </div>
        <div class="col-md-5">
          <h3>หน้าแรก</h3>
          <p>
              หน้าแรก
          </p>
          <a class="btn btn-primary" href="0.html">ดูกิจกรรม</a>
        </div>
      </div>
      <!-- /.row -->

      <hr>




    </div>
    <!-- /.container -->

    <div id="albums" class="row">
      
    </div>

    <hr>

    <!-- Footer -->
    <footer class="py-5 bg-dark">
      <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Your Website 2018</p>
      </div>
    </footer> 
    <div data-include="/compoment/footer.html"></div>
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  </body>
  <script>
    $(document).ready(function () {

      
      for(let i = 3; i <= 5; i++){
        let path = `../assets/images/โครงการสืบสานภูมิปัญญา_${i}/`
        let fileNames = new Array();
        $.ajax({
          url: path,
          success: function (data) {
            $(data).find("td > a").each(function () {
              if (openFile($(this).attr("href"))) {
                fileNames.push($(this).attr("href"));
              }
            });
          }
        }).then(function () {
          // fileNames = shuffleArray(fileNames);
          $.each(fileNames, function (key, value) {
          $("#albums").append(`
            <div class="col-sm-3 col-md-2 col-lg-1 album" >
              <img class="img-fluid img-album" src="${path}${value}" alt="">
            </div>`)
          })
        });
      }
      
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          let j = Math.floor(Math.random() * (i + 1));
          let temp = array[i];
          array[i] = array[j];
          array[j] = temp;
        }
      }

      function openFile(file) {
        var extension = file.substr((file.lastIndexOf('.') + 1)).toLowerCase()
        switch (extension) {
          case 'jpg':
          case 'png':
          case 'gif':   // the alert ended with pdf instead of gif.
          case 'zip':
          case 'rar':
          case 'pdf':
          case 'php':
          case 'doc':
          case 'docx':
          case 'xls':
          case 'xlsx':
            return true;
            break;
          default:
            return false;
        }
      };
    });
  </script>
</html>
